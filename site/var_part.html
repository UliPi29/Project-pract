<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Создание простого текстового редактора на Python</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        code {
            background-color: #f4f4f4;
            padding: 2px 4px;
            border-radius: 4px;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
        img {
            max-width: 100%; 
            height: auto;
            text-align: center;    
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Создание простого текстового редактора на Python</h1>
            <nav>
                <ul>
                    <li><a href="index.html">Главная</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <h2>Введение</h2>
            <p>В данном документе описывается процесс создания простого текстового редактора на Python с использованием библиотеки Tkinter. Будет рассмотрена последовательность действий по исследованию предметной области, проектированию и реализации приложения.</p>

            <h2>Исследование предметной области</h2>
            <h3>1. Определение требований</h3>
            <h4>1.1 Основные функции текстового редактора:</h4>
            <ul>
                <li>Ввод и редактирование текста.</li>
                <li>Сохранение текста в файл.</li>
                <li>Открытие существующих текстовых файлов.</li>
                <li>Изменение шрифта и стиля текста.</li>
                <li>Поддержка различных форматов файлов (например, .txt, .md).</li>
                <li>Возможность копирования, вставки и вырезания текста.</li>
            </ul>
            <h4>1.2 Целевая аудитория:</h4>
            <p>Пользователи, которым нужен простой текстовый редактор для заметок, программирования или редактирования текстовых файлов.</p>

            <h3>2. Основные типы данных</h3>
            <ul>
                <li>Строки (str): Для хранения текста, введенного пользователем.</li>
                <li>Списки (list): Для хранения форматов файлов, поддерживаемых приложением.</li>
                <li>Словари (dict): Для хранения настроек шрифтов и других параметров интерфейса.</li>
                <li>Файлы (file): Для работы с текстовыми файлами (чтение и запись).</li>
            </ul>

            <h3>3. Анализ существующих решений</h3>
            <p>Изучение популярных текстовых редакторов, таких как:</p>
            <ul>
                <li>Notepad: Простой текстовый редактор с базовыми функциями.</li>
                <li>Sublime Text: Мощный редактор с поддержкой плагинов и расширенного редактирования.</li>
                <li>Visual Studio Code: Многофункциональный редактор с поддержкой языков программирования и интеграцией систем контроля версий.</li>
            </ul>

            <h2>Техническое руководство</h2>
            <h3>Предварительные требования</h3>
            <ul>
                <li>Базовые знания в программировании на Python: Понимание синтаксиса, переменных, функций и основных структур данных.</li>
                <li>Установить Python версии 3 и выше: Вы можете скачать последнюю версию Python с официального сайта.</li>
                <li>Среда разработки: Рекомендуется использовать PyCharm или любую другую удобную среду разработки, позволяющую работать с Python.</li>
                <li>Встроенные модули Python: Для работы с графическим интерфейсом мы будем использовать встроенный модуль tkinter.</li>
            </ul>

            <h3>Создание технологии</h3>
            <h4>1. Создание проекта в PyCharm</h4>
            <ul>
                <li>Для этого нажимаем <code>File</code> в верхней панели и из выпадающего списка выбираем <code>New Project</code>.</li>
                <li>В высветившемся окне прописываем путь и название проекта, после этого нажимаем кнопку <code>Create</code>.</li>
                <li>После этого на панели слева появятся файлы проекта и откроется автоматически созданный файл <code>main.py</code> (содержимое файла очистить).</li>
            </ul>
            <img src="https://github.com/UliPi29/Project-pract/blob/master/reports/photo/photo_5260733372051880436_y.jpg?raw=true">
            <h4>2. Импорт необходимых библиотек</h4>
            <p>В начале вашего файла добавьте следующие строки:</p>
            <pre><code>import sys
                import tkinter as tk
                from tkinter import filedialog, Menu
                from tkinter import colorchooser
                </code></pre>
                <p><code>sys</code>: Модуль для взаимодействия с интерпретатором Python. В данном случае он может понадобиться для обработки аргументов командной строки, хотя в этом простом редакторе мы его не используем.</p>
                <p><code>tkinter</code>: Библиотека для создания графических пользовательских интерфейсов (GUI) в Python.</p>
                <p><code>filedialog</code>: Модуль для открытия диалогов выбора файлов, который позволяет пользователю выбирать файлы для открытия и сохранения.</p>
                <p><code>Menu</code>: Класс для создания меню в приложении.</p>
                <p><code>colorchooser</code>: Модуль для выбора цвета, который позволяет пользователю выбирать цвет для текста и фона.</p>
                
            <h4>3. Создаем функцию для сохранения файла</h4>
            <p>Теперь добавим функцию, которая будет обрабатывать сохранение текста в файл:</p>
            <pre><code>def saveas():
                t = text.get("1.0", "end-1c")
                savelocation = filedialog.asksaveasfilename(defaultextension=".txt",
                                                            filetypes=[("Text files", "*.txt"), ("All files", "*.*")])
                if savelocation:
                    with open(savelocation, "w") as file:
                        file.write(t)
            </code></pre>
                
            <h4>4. Создаем функции для изменения шрифта</h4>
            <p>Установим шрифт Helvetica размером 12:</p>
            <pre><code>def FontHelvetica():
                text.config(font=("Helvetica", 12))
            </code></pre>
            <p>Аналогично создадим функции еще для нескольких шрифтов (например, Courier, Arial, Times New Roman, Comic Sans MS):</p>
            <pre><code>def FontCourier():
                text.config(font=("Courier", 12))
                
            def FontArial():
                text.config(font=("Arial", 12))
                
            def FontTimesNewRoman():
                text.config(font=("Times New Roman", 12))
                
            def FontComicSans():
                text.config(font=("Comic Sans MS", 12))
            </code></pre>
                
            <h4>5. Создадим функции для изменения цвета</h4>
            <pre><code>def change_bg_color():
                color = colorchooser.askcolor(title="Choose Background Color")[1]
                if color:
                    text.config(bg=color)
                
            def change_fg_color():
                color = colorchooser.askcolor(title="Choose Text Color")[1]
                if color:
                    text.config(fg=color)
            </code></pre>
            <p><code>colorchooser.askcolor()</code>: Это метод из модуля <code>tkinter.colorchooser</code>, который открывает диалоговое окно для выбора цвета. Метод возвращает кортеж, где первый элемент — это RGB-значение цвета, а второй элемент — строка с шестнадцатеричным представлением цвета (например, <code>#FFFFFF</code> для белого). Мы используем <code>[1]</code>, чтобы получить именно это шестнадцатеричное значение.</p>
            <p><code>text.config(bg=color)</code>: Метод <code>config()</code> используется для изменения свойств виджета. Здесь мы изменяем фон текстового поля (<code>bg</code>) на выбранный цвет.</p>
            <p><code>change_fg_color()</code>: Структура этой функции аналогична функции <code>change_bg_color()</code>. Мы снова используем <code>colorchooser.askcolor()</code> для выбора цвета. В этом случае мы изменяем цвет текста (<code>fg</code>) текстового поля на выбранный цвет.</p>

            <h4>6. Создадим функцию для очистки текста</h4>
            <pre><code>def clear_text():
                text.delete("1.0", tk.END)
            </code></pre>
            <p><code>text.delete("1.0", tk.END)</code>: Удаляет текст, начиная с первой строки до конца текстового поля.</p>
                
            <h4>7. Создаем главное окно</h4>
            <p>Теперь создадим главное окно вашего текстового редактора:</p>
            <pre><code>root = tk.Tk()
            root.title("Text Editor")
            root.geometry("600x700")
            </code></pre>
            <p><code>root = tk.Tk()</code>: Создает основное окно приложения.</p>
            <p><code>root.title("Text Editor")</code>: Устанавливает заголовок окна.</p>
            <p><code>root.geometry("600x700")</code>: Устанавливает размер окна (ширина x высота).</p>
                
            <h4>8. Создаем текстовое поле</h4>
            <p>Добавим текстовое поле, где пользователи смогут вводить текст:</p>
            <pre><code>text = tk.Text(root, padx=10, pady=10)
            text.pack(expand=True, fill='both')
            </code></pre>
            <p><code>tk.Text(root)</code>: Создает текстовое поле, которое будет содержаться в основном окне <code>root</code>.</p>
            <p><code>padx</code> и <code>pady</code>: Эти параметры добавляют отступы внутри текстового поля, чтобы текст не прилипал к краям.</p>
            <p><code>pack(expand=True, fill='both')</code>: Использует менеджер размещения <code>pack</code>, чтобы текстовое поле занимало доступное пространство в окне.</p>
                
            <h4>9. Создаем кнопку для сохранения</h4>
            <p>Добавим кнопку, которая будет вызывать функцию сохранения:</p>
            <pre><code>button = tk.Button(root, text="Save", command=saveas, height=2, width=10)
            button.pack(side='bottom', pady=5)
            </code></pre>
            <p><code>tk.Button(...)</code>: Создает кнопку с текстом "Save" и связывает ее с функцией <code>saveas</code>. Параметры <code>height</code> и <code>width</code> задают размеры кнопки.</p>
            <p><code>pack(side='bottom')</code>: Размещает кнопку внизу окна.</p>
                
            <h4>10. Создаем кнопку для очистки текста</h4>
            <p>Аналогично кнопке "Save", создадим кнопку, которая очищает весь текст при нажатии:</p>
            <pre><code>clear_button = tk.Button(root, text="Clear", command=clear_text, height=2, width=10)
            clear_button.pack(side='bottom', pady=5)
            </code></pre>
                
            <h4>11. Создаем строку состояния</h4>
            <pre><code>status_bar = tk.Label(root, text="Character count: 0", bd=1, relief=tk.SUNKEN, anchor='w')
            status_bar.pack(side='bottom', fill='x')
            </code></pre>
            <p><code>tk.Label</code>: Создает метку, которая будет отображать количество символов в текстовом поле.</p>
            <p><code>bd=1</code>: Задает ширину границы.</p>
            <p><code>relief=tk.SUNKEN</code>: Задает стиль границы.</p>
            <p><code>anchor='w'</code>: Указывает выравнивание текста по левому краю.</p>
                
            <h4>12. Функция для обновления строки состояния</h4>
            <pre><code>def update_status_bar(event=None):
                char_count = len(text.get("1.0", "end-1c"))
                status_bar.config(text=f"Character count: {char_count}")
                
            text.bind("<KeyRelease>", update_status_bar)
            </code></pre>
            <p><code>text.get("1.0", "end-1c")</code>: Получает текст из текстового поля, чтобы подсчитать количество символов.</p>
            <p><code>text.bind("<KeyRelease>", update_status_bar)</code>: Привязывает событие отпускания клавиши к функции, которая обновляет строку состояния.</p>
                
            <h4>13. Создаем меню для выбора шрифта</h4>
            <p>Теперь добавим меню, чтобы пользователи могли выбирать шрифт:</p>
            <pre><code>font_menu = Menu(root)
            root.config(menu=font_menu)
                
            font_submenu = Menu(font_menu, tearoff=0
            font_menu.add_cascade(label="Font", menu=font_submenu)
            font_submenu.add_command(label="Helvetica", command=FontHelvetica)
            font_submenu.add_command(label="Courier", command=FontCourier)
            font_submenu.add_command(label="Arial", command=FontArial)
            font_submenu.add_command(label="Times New Roman", command=FontTimesNewRoman)
            font_submenu.add_command(label="Comic Sans MS", command=FontComicSans)
            </code></pre>
            <p><code>Menu(root)</code>: Создает основное меню для главного окна.</p>
            <p><code>root.config(menu=font_menu)</code>: Присоединяет созданное меню к главному окну.</p>
            <p><code>Menu(font_menu, tearoff=0)</code>: Создает подменю для выбора шрифта. Параметр <code>tearoff=0</code> отключает возможность отделения подменю от основного меню.</p>
            <p><code>add_cascade(...)</code>: Добавляет подменю к основному меню.</p>
            <p><code>add_command(...)</code>: Добавляет пункты меню, которые вызывают соответствующие функции для изменения шрифта текстового поля.</p>

            <h4>14. Создаем подменю для изменеия цвета</h4>
            <p>Теперь добавим подменю для изменеия цвета фона и текста:</p>
            <pre><code>color_menu = Menu(root, tearoff=0)
            font_menu.add_cascade(label="Color", menu=color_menu)
            color_menu.add_command(label="Background Color", command=change_bg_color)
            color_menu.add_command(label="Text Color", command=change_fg_color)
            </code></pre>
            <p><code>color_menu.add_command</code>: Добавляет команды для изменения цвета фона и текста, которые вызывают соответствующие функции.</p>

            <h4>15. Запускаем главный цикл приложения</h4>
            <p>В конце файла добавьте строку, чтобы запустить главный цикл приложения:</p>
            <pre><code>root.mainloop()
            </code></pre>
            <p><code>root.mainloop()</code>: Запускает главный цикл приложения, который обрабатывает события и обновляет интерфейс. Это необходимо для того, чтобы окно оставалось открытым и реагировало на действия пользователя.</p>
            
            <h3>Демонстрация результата</h3>
            <p>Интерфейс, ввод текста, возможность примененя стилей:</p>
            <img src="https://github.com/UliPi29/Project-pract/blob/master/reports/photo/photo_5260733372051880446_y.jpg?raw=true">
            <p>Возможность сохранения файла:</p>
            <img src=https://github.com/UliPi29/Project-pract/blob/master/reports/photo/photo_5260733372051880445_y.jpg?raw=true>
            <h3>Модификации</h3>
            <p>При создании своего текстового редактора, я использовала <a href="https://www.instructables.com/Create-a-Simple-Python-Text-Editor/">данную инструкцию</a>, однако код, приведенный там, неактуален для среды разработки PyCharm, из-за чего оказался нерабочим. Поэтому мной были осуществлены следующие изменения:</p>
            <ul>
                <li>Убрана зависимость от версии Python. Предполагается, что используется Python 3, что упрощает код.</li>
                <li>Импорт <code>filedialog</code> вместо <code>tkFileDialog</code>, что соответствует стандартам Python 3.</li>
                <li>В коде, приведенном на сайте, заголовок окна устанавливается следующим образом: 
                    <pre><code>root=Tk("Text Editor")</code></pre>
                    что является неверным. Вместо той строки следует написать:
                    <pre><code>root = Tk()<br>root.title("Text Editor")</code></pre>
                </li>
                <li>В моем коде вместо <code>grid()</code> используется <code>pack()</code> с параметрами <code>expand</code> и <code>fill</code>, что позволяет текстовому полю занимать доступное пространство.</li>
                <li>Использование <code>filedialog</code> вместо <code>tkFileDialog</code>.</li>
                <li>Проверка на <code>None</code> для <code>savelocation</code>, чтобы избежать ошибок при отсутствии выбора.</li>
                <li>Использование контекстного менеджера <code>with</code>, что автоматически закрывает файл после записи.</li>
                <li>Использование <code>Menu</code> вместо <code>Menubutton</code>, что является более стандартным подходом для создания меню.</li>
                <li>Добавлено еще несколько видов шрифтов.</li>
                <li>Добавлены функции для изменения фона редактора и цвета текста.</li>
                <li>Убраны ненужные переменные <code>IntVar()</code>, так как для простого выбора шрифта это не требуется.</li>
                <li>Упрощение добавления пунктов меню с помощью <code>add_command</code>, что делает код более читабельным.</li>
                <li>Добавлена строка состояния, которая отображает количество символов, что улучшает интерфейс и делает его более информативным.</li>
                <li>Добавлена функция <code>update_status_bar</code>, которая обновляет строку состояния при каждом нажатии клавиши.</li>
                <li>Используется метод <code>text.get("1.0", tk.END)</code> для получения текста из текстового поля. <code>-1</code> используется, чтобы исключить символ конца строки, который добавляется автоматически.</li>
                <li>Строка состояния обновляется с помощью метода <code>config</code>, чтобы отобразить текущее количество символов.</li>
                <li>Привязка события <code>&lt;KeyRelease&gt;</code> к текстовому полю, чтобы функция <code>update_status_bar</code> вызывалась каждый раз, когда пользователь отпускает клавишу. Это позволяет динамически обновлять информацию о количестве символов в строке состояния.</li>
            </ul>
        </main>
        <footer>
            <p>&copy; 2025 Разработка программно-аппаратного комплекса | <a href="https://github.com/UliPi29/Project-pract" target="_blank">Ссылка на репозиторий</a></p>
        </footer>
    </div>
</body>
</html>
